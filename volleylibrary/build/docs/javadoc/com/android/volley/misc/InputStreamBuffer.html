<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Fri Apr 29 00:01:31 ICT 2016 -->
<title>InputStreamBuffer (volleylibrary API)</title>
<meta name="date" content="2016-04-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InputStreamBuffer (volleylibrary API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/android/volley/misc/ImageUtils.InputStreamFactory.html" title="interface in com.android.volley.misc"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/android/volley/misc/IOUtils.html" title="class in com.android.volley.misc"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/android/volley/misc/InputStreamBuffer.html" target="_top">Frames</a></li>
<li><a href="InputStreamBuffer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.android.volley.misc</div>
<h2 title="Class InputStreamBuffer" class="title">Class InputStreamBuffer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.android.volley.misc.InputStreamBuffer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">InputStreamBuffer</span>
extends java.lang.Object</pre>
<div class="block">Wrapper for <code>InputStream</code> that allows you to read bytes from it like a byte[]. An
 internal buffer is kept as small as possible to avoid large unnecessary allocations.

 <p/>
 Care must be taken so that the internal buffer is kept small. The best practice is to
 precalculate the maximum buffer size that you will need. For example,
 say you have a loop that reads bytes from index <code>0</code> to <code>10</code>,
 skips to index <code>N</code>, reads from index <code>N</code> to <code>N+10</code>, etc. Then
 you know that the internal buffer can have a maximum size of <code>10</code>,
 and you should set the <code>bufferSize</code> parameter to <code>10</code> in the constructor.

 <p/>
 Use <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#advanceTo-int-"><code>advanceTo(int)</code></a> to declare that you will not need to access lesser indexes. This
 helps to keep the internal buffer small. In the above example, after reading bytes from index
 <code>0</code> to <code>10</code>, you should call <code>advanceTo(N)</code> so that internal
 buffer becomes filled with bytes from index <code>N</code> to <code>N+10</code>.

 <p/>
 If you know that you are reading bytes from a <strong>strictly</strong> increasing or equal
 index, then you should set the <code>autoAdvance</code> parameter to <code>true</code> in the
 constructor. For complicated access patterns, or when you prefer to control the internal
 buffer yourself, set <code>autoAdvance</code> to <code>false</code>. When
 <code>autoAdvance</code> is enabled, every time an index is beyond the buffer length,
 the buffer will be shifted forward such that the index requested becomes the first element in
 the buffer.

 <p/>
 All public methods with parameter <code>index</code> are absolute indexed. The index is from
 the beginning of the wrapped input stream.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/android/volley/misc/InputStreamBuffer.html#InputStreamBuffer-java.io.InputStream-int-boolean-">InputStreamBuffer</a></span>(java.io.InputStream&nbsp;inputStream,
                 int&nbsp;bufferSize,
                 boolean&nbsp;autoAdvance)</code>
<div class="block">Construct a new wrapper for an InputStream.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/android/volley/misc/InputStreamBuffer.html#advanceTo-int-">advanceTo</a></span>(int&nbsp;index)</code>
<div class="block">Attempts to advance the head of the buffer to the requested index.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/android/volley/misc/InputStreamBuffer.html#copyOf-byte:A-int-">copyOf</a></span>(byte[]&nbsp;original,
      int&nbsp;newLength)</code>
<div class="block">Arrays.copyOf(byte[] original, int newLength) not found in API <= 8.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/android/volley/misc/InputStreamBuffer.html#get-int-">get</a></span>(int&nbsp;index)</code>
<div class="block">Attempt to get byte at the requested index from the wrapped input stream.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/android/volley/misc/InputStreamBuffer.html#has-int-">has</a></span>(int&nbsp;index)</code>
<div class="block">Attempt to return whether the requested index is within the size of the wrapped input
 stream.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/android/volley/misc/InputStreamBuffer.html#toDebugString--">toDebugString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/android/volley/misc/InputStreamBuffer.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="InputStreamBuffer-java.io.InputStream-int-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InputStreamBuffer</h4>
<pre>public&nbsp;InputStreamBuffer(java.io.InputStream&nbsp;inputStream,
                         int&nbsp;bufferSize,
                         boolean&nbsp;autoAdvance)</pre>
<div class="block">Construct a new wrapper for an InputStream.

 <p/>
 If <code>autoAdvance</code> is true, behavior is undefined if you call <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#get-int-"><code>get(int)</code></a>
 or <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#has-int-"><code>has(int)</code></a> with an index N, then some arbitrary time later call <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#get-int-"><code>get(int)</code></a>
 or <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#has-int-"><code>has(int)</code></a> with an index M < N. The wrapper may return the right value,
 if the buffer happens to still contain index M, but more likely it will throw an
 <code>IllegalStateException</code>.

 <p/>
 If <code>autoAdvance</code> is false, you must be diligent and call <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#advanceTo-int-"><code>advanceTo(int)</code></a>
 at the appropriate times to ensure that the internal buffer is not unnecessarily resized
 and reallocated.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inputStream</code> - The input stream to wrap. The input stream will not be closed by the
                    wrapper.</dd>
<dd><code>bufferSize</code> - The initial size for the internal buffer. The buffer size should be
                    carefully chosen to avoid resizing and reallocating the internal buffer.
                    The internal buffer size used will be the least power of two greater
                    than this parameter.</dd>
<dd><code>autoAdvance</code> - Determines the behavior when you need to read an index that is beyond
                    the internal buffer size. If true, the internal buffer will shift so
                    that the requested index becomes the first element. If false,
                    the internal buffer size will grow to the smallest power of 2 which is
                    greater than the requested index.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="get-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;byte&nbsp;get(int&nbsp;index)
         throws java.lang.IllegalStateException,
                java.lang.IndexOutOfBoundsException</pre>
<div class="block">Attempt to get byte at the requested index from the wrapped input stream. If the internal
 buffer contains the requested index, return immediately. If the index is less than the
 head of the buffer, or the index is greater or equal to the size of the wrapped input stream,
 a runtime exception is thrown.

 <p/>
 If the index is not in the internal buffer, but it can be requested from the input stream,
 <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#fill-int-"><code>fill(int)</code></a> will be called first, and the byte at the index returned.

 <p/>
 You should always call <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#has-int-"><code>has(int)</code></a> with the same index, unless you are sure that no
 exceptions will be thrown as described above.

 <p/>
 Consider calling <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#advanceTo-int-"><code>advanceTo(int)</code></a> if you know that you will never request a lesser
 index in the future.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - The requested index.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The byte at that index.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code></dd>
<dd><code>java.lang.IndexOutOfBoundsException</code></dd>
</dl>
</li>
</ul>
<a name="has-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>has</h4>
<pre>public&nbsp;boolean&nbsp;has(int&nbsp;index)
            throws java.lang.IllegalStateException,
                   java.lang.IndexOutOfBoundsException</pre>
<div class="block">Attempt to return whether the requested index is within the size of the wrapped input
 stream. One side effect is <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#fill-int-"><code>fill(int)</code></a> will be called.

 <p/>
 If this method returns true, it is guaranteed that <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#get-int-"><code>get(int)</code></a> with the same index
 will not fail. That means that if the requested index is within the size of the wrapped
 input stream, but the index is less than the head of the internal buffer,
 a runtime exception is thrown.

 <p/>
 See <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#get-int-"><code>get(int)</code></a> for caveats. A lot of the same warnings about exceptions and
 <code>advanceTo()</code> apply.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - The requested index.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if requested index is within the size of the wrapped input stream. False if
 the index is beyond the size.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code></dd>
<dd><code>java.lang.IndexOutOfBoundsException</code></dd>
</dl>
</li>
</ul>
<a name="advanceTo-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>advanceTo</h4>
<pre>public&nbsp;void&nbsp;advanceTo(int&nbsp;index)
               throws java.lang.IllegalStateException,
                      java.lang.IndexOutOfBoundsException</pre>
<div class="block">Attempts to advance the head of the buffer to the requested index. If the index is less
 than the head of the buffer, the internal state will not be changed.

 <p/>
 Advancing does not fill the internal buffer. The next <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#get-int-"><code>get(int)</code></a> or
 <a href="../../../../com/android/volley/misc/InputStreamBuffer.html#has-int-"><code>has(int)</code></a> call will fill the buffer.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code></dd>
<dd><code>java.lang.IndexOutOfBoundsException</code></dd>
</dl>
</li>
</ul>
<a name="copyOf-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyOf</h4>
<pre>public static&nbsp;byte[]&nbsp;copyOf(byte[]&nbsp;original,
                            int&nbsp;newLength)</pre>
<div class="block">Arrays.copyOf(byte[] original, int newLength) not found in API <= 8.
 
 Copies the specified array, truncating or padding with zeros (if necessary)
 so the copy has the specified length. For all indices that are valid in both
 the original array and the copy, the two arrays will contain identical values.
 For any indices that are valid in the copy but not the original, the copy will
 contain (byte)0. Such indices will exist if and only if the specified length is
 greater than that of the original array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>original</code> - the array to be copied</dd>
<dd><code>newLength</code> - the length of the copy to be returne</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a copy of the original array, truncated or padded with zeros to obtain the 
 specified length</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="toDebugString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toDebugString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toDebugString()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/android/volley/misc/ImageUtils.InputStreamFactory.html" title="interface in com.android.volley.misc"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/android/volley/misc/IOUtils.html" title="class in com.android.volley.misc"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/android/volley/misc/InputStreamBuffer.html" target="_top">Frames</a></li>
<li><a href="InputStreamBuffer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
